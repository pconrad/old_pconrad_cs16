<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>C Type Expressions Practice 2, CS16 Conrad, UCSB</title>
<link rel="stylesheet" type="text/css" href="exam.css" />
<style type="text/css">
  table.selectEm tr td {font-size: 3.0em; padding-left:0.75em; padding-right:0.75em;}
  table.selectEm {border-style: none;}
  table.withLines tr td {border:thin #000000 solid;}
    table.withLines tr th {border:thin #000000 solid;}
.instructions {font-family: Verdana, Arial, Helvetica, sans-serif}
.cellVerticallyCentered {vertical-align:center;}
table.blankTable { border: solid white 0px; }

ol.theQuestions li ul li {page-break-before:avoid;}
ol.theQuestions li ol li {page-break-before:avoid;}

pre.widePre {font-size: 10px;}

.nobreak {white-space:nowrap;}
table#typeExpressions tr td {height: 2.0em; padding: 3px;}
ul.squareList li {list-style-type: square;}
</style>
<script type="text/javascript" src="exam.js" ></script>
</head>

<body onload="updatePointCount();">
<h1 class="instructions">Type Expressions Practice 2<br />
CS16,P. Conrad, UCSB</h1>
<p class="instructions">&nbsp;</p>
<hr />

  <p>Together with this question, there is a program (on a separate <a href="#handout">handout</a>).<br />
</p>
 <p>Assuming each of the expressions below appeared in this program, indicate the type they would have, or write error if the expression is not valid, e.g. <ul>
     <li>dereferencing something with * or -&gt; that isn't a pointer</li>
     <li>a reference to a struct member that doesn't exist (e.g. d.foo where there is no foo)</li>
   </ul>
   <br />
     <br />
  The first few are done for you as an example.</p>
  <p>Hints--for full credit:</p>

  <ul>
    <li> don't write<em> pointer to character</em>; instead, write <strong>char *</strong></li>
    <li>don't write<em> address of int</em>; instead, write <strong>int *</strong></li>
    <li>don't write <em>address of int *</em> or <em>address of pointer to int</em>, instead write <strong>int **</strong></li>
  </ul>
  </blockquote>

  see <a href="typeExpressionsPractice2Answers.html">answer key
  </a>
<table border="1" cellpadding="1" cellspacing="1" id="typeExpressions">
    <tr>
      <td width="90">Expression</td>
      <td width="199">Type</td>
      <td width="13" bgcolor="#000000">&nbsp;&nbsp; &nbsp; </td>
      <td width="90">Expression</td>
      <td width="199">Type</td>
    </tr>
    <tr>
      <td>a</td>
      <td><span class="style5 instructions">int</span></td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>f-&gt;radius</td>
      <td>&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
    </tr>
    <tr>
      <td>&amp;a</td>
      <td><span class="style5 instructions">int *</span></td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>f-&gt;center.x</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>*a</td>
      <td><span class="style5 instructions">error</span></td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>f-&gt;center-&gt;y</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>*b</td>
      <td><span class="style5 instructions">int</span></td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>&amp;g</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>e</td>
      <td><span class="instructions">struct Circle</span></td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>*h</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>b</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>&amp;(h-&gt;x)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&amp; b</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>*(h.y)</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>c</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>i.m</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>*c</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>j.d</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td height="24">d</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>i-&gt;y</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>&amp;d</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>j-&gt;m</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>*e</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>(*j).m</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>e.x</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>argc</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>e.radius</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>argv[0]</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td>f.y</td>
      <td>&nbsp;</td>
      <td bgcolor="#000000">&nbsp;</td>
      <td>argv[0][0]</td>
      <td>&nbsp;</td>
    </tr>
</table>

<div class="pageBreakBefore">
<h1 class="instructions" label="handout" id="handout">Extra Handout for<br />
Type Expressions Practice 2<br />
CS16, UCSB, P. Conrad</h1>
<p class="instructions">&nbsp;</p>
<p class="instructions">Program for question about types</p>
<pre class="widePre">
// types.c  Code for exam question, 11/15/2009
// P. Conrad for CS16, UCSB


#include &lt;stdio.h&gt;
 

struct Point {
  double x;
  double y;
};


struct Date {
  int d;
  int m;
  int y;
};


struct Circle {
  struct Point center;
  double radius;
};


int main(int argc, char *argv[])
{
  int a;
  int *b;
  double c;
  double *d;
  struct Circle e;
  struct Circle *f;
  struct Point g;
  struct Point *h;
  struct Date i;
  struct Date *j;

  
  // Program does no useful work
  // It is just the basis of a homework assignment about types<br />

  
  // Pretend there is useful code here, and then 
  // answer questions about the types of various expressions
  // as if they appeared right here.


  return 0;


}

</pre>
</div>
</body>
</html>
